<section>
	<h3>Typical Architecture</h3>

	<!-- Top Half: System Architecture Diagram (scaled down) -->
	<div style="position: relative; width: 700px; height: 220px; margin: 0 auto; transform: scale(0.9); transform-origin: top center;">
		<!-- K8S Layer (top) -->
		<div style="position: absolute; left: 70px; top: 0px; width: 560px; height: 35px; background: #3498db; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
			<span style="color: white; font-weight: bold; font-size: 20px;">K8S</span>
		</div>

		<!-- LLM Application (RAG) -->
		<div style="position: absolute; left: 80px; top: 70px; width: 130px; height: 45px; background: #2ecc71; border-radius: 6px; display: flex; align-items: center; justify-content: center; z-index: 10;">
			<span style="color: white; font-weight: bold; font-size: 14px; text-align: center;">LLM Application<br>(RAG)</span>
		</div>

		<!-- Node 1 (left) -->
		<div style="position: absolute; left: 70px; top: 45px; width: 280px; height: 170px; border: 2px dashed #666; border-radius: 10px; background: rgba(240,240,240,0.3);">
			<span style="position: absolute; left: 10px; top: 5px; font-size: 14px; color: #555; font-weight: bold;">Node 1</span>

			<!-- CPU boxes row -->
			<div style="position: absolute; left: 10px; top: 25px; display: flex; gap: 8px;">
				<div style="width: 125px; height: 50px; background: #ecf0f1; border: 2px solid #bdc3c7; border-radius: 6px; position: relative;">
					<span style="position: absolute; left: 6px; top: 3px; font-size: 10px; color: #7f8c8d;">CPU</span>
				</div>
				<div style="width: 125px; height: 50px; background: #ecf0f1; border: 2px solid #bdc3c7; border-radius: 6px; position: relative;">
					<span style="position: absolute; left: 6px; top: 3px; font-size: 10px; color: #7f8c8d;">CPU</span>
				</div>
			</div>

			<!-- GPU boxes row -->
			<div style="position: absolute; left: 10px; top: 115px; display: flex; gap: 8px;">
				<div style="width: 125px; height: 45px; background: #2c3e50; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
					<span style="color: #ecf0f1; font-weight: bold; font-size: 14px;">GPU 0</span>
				</div>
				<div style="width: 125px; height: 45px; background: #2c3e50; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
					<span style="color: #ecf0f1; font-weight: bold; font-size: 14px;">GPU 1</span>
				</div>
			</div>
		</div>

		<!-- Node 2 (right - empty) -->
		<div style="position: absolute; left: 360px; top: 45px; width: 280px; height: 170px; border: 2px dashed #666; border-radius: 10px; background: rgba(240,240,240,0.3);">
			<span style="position: absolute; left: 10px; top: 5px; font-size: 14px; color: #555; font-weight: bold;">Node 2</span>

			<!-- CPU boxes row -->
			<div style="position: absolute; left: 10px; top: 25px; display: flex; gap: 8px;">
				<div style="width: 125px; height: 50px; background: #ecf0f1; border: 2px solid #bdc3c7; border-radius: 6px; position: relative;">
					<span style="position: absolute; left: 6px; top: 3px; font-size: 10px; color: #7f8c8d;">CPU</span>
				</div>
				<div style="width: 125px; height: 50px; background: #ecf0f1; border: 2px solid #bdc3c7; border-radius: 6px; position: relative;">
					<span style="position: absolute; left: 6px; top: 3px; font-size: 10px; color: #7f8c8d;">CPU</span>
				</div>
			</div>

			<!-- GPU boxes row -->
			<div style="position: absolute; left: 10px; top: 115px; display: flex; gap: 8px;">
				<div style="width: 125px; height: 45px; background: #2c3e50; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
					<span style="color: #ecf0f1; font-weight: bold; font-size: 14px;">GPU 2</span>
				</div>
				<div style="width: 125px; height: 45px; background: #2c3e50; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
					<span style="color: #ecf0f1; font-weight: bold; font-size: 14px;">GPU 3</span>
				</div>
			</div>
		</div>

		<!-- LLM Engine (Embedding Model) on GPU 0 -->
		<div style="position: absolute; left: 80px; top: 125px; width: 125px; height: 35px; background: #e67e22; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
			<span style="color: white; font-weight: bold; font-size: 11px; text-align: center;">LLM Engine<br>(Embedding Model)</span>
		</div>

		<!-- LLM Engine (Generation LLM) on GPU 1 -->
		<div style="position: absolute; left: 213px; top: 125px; width: 125px; height: 35px; background: #e74c3c; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
			<span style="color: white; font-weight: bold; font-size: 11px; text-align: center;">LLM Engine<br>(Generation LLM)</span>
		</div>
	</div>

	<!-- Bottom Half: RAG Workflow Diagram (scaled down, static) -->
	<div style="position: relative; width: 750px; height: 220px; margin: 20px auto 0;">
		<!-- User icon -->
		<div style="position: absolute; left: 20px; top: 80px;">
			<svg width="50" height="50" viewBox="0 0 24 24" fill="#666">
				<circle cx="12" cy="8" r="4"/>
				<path d="M12 14c-6 0-8 3-8 6v1h16v-1c0-3-2-6-8-6z"/>
			</svg>
		</div>

		<!-- Arrow from User to Embedding Model with "prompt" label -->
		<svg style="position: absolute; left: 70px; top: 55px; width: 90px; height: 70px;">
			<defs><marker id="arrow1-static" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto"><path d="M0,0 L0,6 L7,3 z" fill="#666"/></marker></defs>
			<line x1="8" y1="55" x2="75" y2="15" stroke="#666" stroke-width="2" marker-end="url(#arrow1-static)"/>
			<text x="20" y="30" fill="#666" font-size="12" font-weight="bold">prompt</text>
		</svg>

		<!-- Embedding Model -->
		<div style="position: absolute; left: 155px; top: 10px; background: #9b59b6; padding: 12px 18px; border-radius: 10px; color: white; font-weight: bold; font-size: 16px; text-align: center; box-shadow: 0 3px 5px rgba(0,0,0,0.1);">
			Embedding<br>Model
		</div>

		<!-- Arrow from Embedding to Database with "embedding" label -->
		<svg style="position: absolute; left: 275px; top: 25px; width: 100px; height: 40px;">
			<defs><marker id="arrow2-static" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto"><path d="M0,0 L0,6 L7,3 z" fill="#666"/></marker></defs>
			<line x1="5" y1="20" x2="85" y2="20" stroke="#666" stroke-width="2" marker-end="url(#arrow2-static)"/>
			<text x="15" y="14" fill="#666" font-size="12" font-weight="bold">embedding</text>
		</svg>

		<!-- Vector Database (cylinder) -->
		<div style="position: absolute; left: 365px; top: 0px; text-align: center;">
			<svg width="90" height="80" viewBox="0 0 70 70">
				<ellipse cx="35" cy="15" rx="25" ry="10" fill="#e67e22"/>
				<rect x="10" y="15" width="50" height="40" fill="#e67e22"/>
				<ellipse cx="35" cy="55" rx="25" ry="10" fill="#d35400"/>
				<ellipse cx="35" cy="15" rx="25" ry="10" fill="none" stroke="#fff" stroke-width="1" opacity="0.3"/>
			</svg>
			<div style="font-size: 14px; color: #666; margin-top: 0px;">Vector Database</div>
		</div>

		<!-- Arrow from Database to LLM with "retrieved documents" label -->
		<svg style="position: absolute; left: 450px; top: 40px; width: 140px; height: 100px;">
			<defs><marker id="arrow3-static" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto"><path d="M0,0 L0,6 L7,3 z" fill="#666"/></marker></defs>
			<line x1="8" y1="8" x2="125" y2="80" stroke="#666" stroke-width="2" marker-end="url(#arrow3-static)"/>
			<text x="50" y="30" fill="#666" font-size="12" font-weight="bold">retrieved</text>
			<text x="50" y="44" fill="#666" font-size="12" font-weight="bold">documents</text>
		</svg>

		<!-- LLM -->
		<div style="position: absolute; left: 580px; top: 115px; background: #e74c3c; padding: 18px 30px; border-radius: 10px; color: white; font-weight: bold; font-size: 20px; box-shadow: 0 3px 5px rgba(0,0,0,0.1);">
			LLM
		</div>

		<!-- Arrow from User directly to LLM with "prompt" label -->
		<svg style="position: absolute; left: 70px; top: 115px; width: 510px; height: 40px;">
			<defs><marker id="arrow5-static" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto"><path d="M0,0 L0,6 L7,3 z" fill="#666"/></marker></defs>
			<line x1="8" y1="20" x2="495" y2="20" stroke="#666" stroke-width="2" marker-end="url(#arrow5-static)"/>
			<text x="230" y="14" fill="#666" font-size="12" font-weight="bold">prompt</text>
		</svg>

		<!-- Arrow from LLM to Response with "response" label -->
		<svg style="position: absolute; left: 680px; top: 125px; width: 70px; height: 40px;">
			<defs><marker id="arrow6-static" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto"><path d="M0,0 L0,6 L7,3 z" fill="#666"/></marker></defs>
			<line x1="5" y1="20" x2="55" y2="20" stroke="#666" stroke-width="2" marker-end="url(#arrow6-static)"/>
			<text x="10" y="14" fill="#666" font-size="12" font-weight="bold">response</text>
		</svg>
	</div>
</section>
